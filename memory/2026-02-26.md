# 2026-02-26 ‚Äî –î–Ω–µ–≤–Ω–∏–∫

## –ó–∞–¥–∞—á–∏ (9 —à—Ç—É–∫) ‚Äî –≤—Å–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –∫–æ–º–º–∏—Ç d77c5ad ‚Üí main

1. **–§–æ—Ä–º–∞ –∞–∫—Ç–∞ ‚Äî –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏** ‚Äî –∫–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è –æ—Ç–¥–µ–ª—å–Ω—ã–º –±–ª–æ–∫–æ–º (border + shadow). –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥: –≤ `_renderActItem` –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–π `</div>` –¥–ª—è outer div ‚Äî –∏–∑-–∑–∞ —ç—Ç–æ–≥–æ –∫–Ω–æ–ø–∫–∞ "+ –î–æ–±–∞–≤–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ" –ø–æ–ø–∞–¥–∞–ª–∞ –≤–Ω—É—Ç—Ä—å –ø–µ—Ä–≤–æ–≥–æ –±–ª–æ–∫–∞ –∏ `insertBefore` –ø–∞–¥–∞–ª —Å –æ—à–∏–±–∫–æ–π.

2. **–ö–Ω–æ–ø–∫–∞ "+ –î–æ–±–∞–≤–∏—Ç—å –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ"** ‚Äî –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ (–ø—Ä–∏—á–∏–Ω–∞: –Ω–µ–∑–∞–∫—Ä—ã—Ç—ã–π div).

3. **–î–æ–≥–æ–≤–æ—Ä –∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–π –≤ –∏—Å—Ç–æ—Ä–∏–∏ –î–°** ‚Äî –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –¥–æ–≥–æ–≤–æ—Ä–∞ –æ—Å–Ω–æ–≤–Ω–æ–π –¥–æ–≥–æ–≤–æ—Ä —Ç–µ–ø–µ—Ä—å —Å—Å—ã–ª–∫–∞ ‚Üí –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç contractCard.

4. **–ö–∞—Ä—Ç–æ—á–∫–∞ –î–°** ‚Äî –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `openSupplementCard(id)`: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è (changes_description, rent_objects, –¥–∞—Ç—ã). –ö–Ω–æ–ø–∫–∞ "‚Üê –ö –¥–æ–≥–æ–≤–æ—Ä—É".

5. **–ê–Ω–∞–ª–∏–∑ –∞—Ä–µ–Ω–¥—ã: –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ ‚Üí —Ñ–∏–ª—å—Ç—Ä-–∑–∞–≥–æ–ª–æ–≤–∫–∏** ‚Äî `_rentGroupBy` —Ç–µ–ø–µ—Ä—å –Ω–µ –ø–µ—Ä–µ—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Ç–∞–±–ª–∏—Ü—É –≤ –¥–µ—Ä–µ–≤–æ, –∞ –¥–æ–±–∞–≤–ª—è–µ—Ç —Å—Ç—Ä–æ–∫—É —Ñ–∏–ª—å—Ç—Ä–∞ –Ω–∞–¥ —Ç–∞–±–ª–∏—Ü–µ–π. –ù–æ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `_rentGroupByValues`. –§—É–Ω–∫—Ü–∏—è `_rentGroupByValueChange`. –¢–∞–±–ª–∏—Ü–∞ –≤—Å–µ–≥–¥–∞ –ø–ª–æ—Å–∫–∞—è.

6. **"–¢–∏–ø –æ–±—ä–µ–∫—Ç–∞" ‚Üí "–¢–∏–ø –ø–æ–º–µ—â–µ–Ω–∏—è"** ‚Äî —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–æ –≤ –º–∏–Ω–∏-—Ñ–æ—Ä–º–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–º–µ—â–µ–Ω–∏—è.

7. **–ü–æ–ª–Ω—ã–µ —Ñ–æ—Ä–º—ã –ø—Ä–∏ inline-—Å–æ–∑–¥–∞–Ω–∏–∏** ‚Äî `_roRoomCreateMiniForm` —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç –ø–æ–ª–µ "–ù–∞–∑–≤–∞–Ω–∏–µ", `_roEqCreateMiniForm` ‚Äî –≤—Å–µ –ø–æ–ª—è –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏—è (kind, inv, serial, year, manufacturer, status). `submitRentRoomCreate` –±–æ–ª—å—à–µ –Ω–µ –¥–µ–ª–∞–µ—Ç prompt().

8. **–ö–Ω–æ–ø–∫–∞ "+ –î–°" –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –¥–æ–≥–æ–≤–æ—Ä–∞** ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ `renderContractCard`.

9. **–°–æ–∑–¥–∞–Ω–∏–µ –î–° –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ ‚Üí –≤—ã–±–æ—Ä –¥–æ–≥–æ–≤–æ—Ä–∞** ‚Äî `openCreateModal('supplement')` —Ç–µ–ø–µ—Ä—å —Å–Ω–∞—á–∞–ª–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –¥–æ–≥–æ–≤–æ—Ä–æ–≤. –§—É–Ω–∫—Ü–∏—è `openSelectParentContractForSupplement`.

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (–∫–æ–º–º–∏—Ç af589f8 ‚Üí main)

- –í–∫–ª–∞–¥–∫–∞ "üìã –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- –ë—ç–∫–µ–Ω–¥: `GET /api/entity-types/settings/lists` + `PATCH /api/entity-types/settings/lists/:fieldId`
- –§—Ä–æ–Ω—Ç–µ–Ω–¥: –∫–∞—Ä—Ç–æ—á–∫–∏ –ø–æ —Ç–∏–ø–∞–º —Å—É—â–Ω–æ—Å—Ç–µ–π, inline-—Ä–µ–¥–∞–∫—Ç–æ—Ä —Å add/rename/delete –ø—É–Ω–∫—Ç–æ–≤
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è `OBJECT_TYPES` –∏ `EQUIPMENT_CATEGORIES` –ø–æ—Å–ª–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ `_syncFrontendListsFromDB`

## –ê–Ω–∞–ª–∏–∑: –¥—É–±–ª–∏–∫–∞—Ç—ã –∏ –ø–ª–∞–Ω –∫–∞—Ä—Ç—ã

–ü–æ–¥—Ä–æ–±–Ω–æ –≤ `memory/2026-02-25-analysis.md`. –ö—Ä–∞—Ç–∫–æ:
- `workshop` ‚Äî –≤–æ–∑–º–æ–∂–Ω–æ –¥—É–±–ª–∏—Ä—É–µ—Ç `building`, –æ–±—Å—É–¥–∏—Ç—å —Å –í–∞–ª–µ–Ω—Ç–∏–Ω–æ–π
- `document.doc_type` ‚Äî —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–∏–ø—ã –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –∫–∞–∫ —Å—É—â–Ω–æ—Å—Ç–∏ (–ü—Ä–∏–∫–∞–∑, –ê–∫—Ç, –î–°)
- `room.room_number` ‚Äî –¥—É–±–ª–∏—Ä—É–µ—Ç `name`, –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —É–±—Ä–∞—Ç—å
- `land_plot_part` ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω –≤ —Ñ–µ–≤—Ä–∞–ª–µ, –Ω–µ –≤ ER –¥–∏–∞–≥—Ä–∞–º–º–µ

## –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ ‚Äî –ø–ª–∞–Ω

–ü–æ–¥—Ä–æ–±–Ω–æ –≤ `memory/2026-02-25-analysis.md`. SVG hotspot overlay:
- `entity.properties.map_image` = URL –∫–∞—Ä—Ç–∏–Ω–∫–∏
- `entity.properties.hotspots` = JSON [{entity_id, label, x%, y%, w%, h%, color}]
- Viewer: –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–µ div –ø–æ–≤–µ—Ä—Ö –∫–∞—Ä—Ç–∏–Ω–∫–∏
- –†–µ–¥–∞–∫—Ç–æ—Ä: click-to-draw –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∏
- –ù—É–∂–Ω–æ –æ—Ç –í–∞–ª–µ–Ω—Ç–∏–Ω—ã: –∫–∞—Ä—Ç–∏–Ω–∫–∏ + –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–æ entity_id

## Cube / BI

Valentina —Å–ø—Ä–æ—Å–∏–ª–∞ –æ OLAP –∫—É–±–µ. –û—Ç–≤–µ—Ç: –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç.
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: Metabase + materialized views –≤ PostgreSQL.
–†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–≥–¥–∞ –±–∞–∑–∞ –Ω–∞–ø–æ–ª–Ω–∏—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏.

## –¢–µ–∫—É—â–∏–π –∫–æ–º–º–∏—Ç main

`1e3fbdc` ‚Äî feat: settings —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (26 —Ñ–µ–≤, 8:43 UTC approx)

## –°—Ç–∞—Ç—É—Å "–ö—É–¥–∞-—Ç–æ –¥–µ–ª–∞—Å—å –≤–∫–ª–∞–¥–∫–∞ –û—Ç—á—ë—Ç—ã"

–ù–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–ª–∞ –≤ –∫–æ–¥–µ. –í–µ—Ä–æ—è—Ç–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã: sidebar –Ω–∞–¥–æ –ø—Ä–æ–∫—Ä—É—Ç–∏—Ç—å –≤–Ω–∏–∑ (13+ —Ç–∏–ø–æ–≤ —Å—É—â–Ω–æ—Å—Ç–µ–π), –∏–ª–∏ –Ω—É–∂–Ω–æ Ctrl+Shift+R. –ü–æ–ø—Ä–æ—Å–∏–ª–∞ –í–∞–ª–µ–Ω—Ç–∏–Ω—É —Å–æ–æ–±—â–∏—Ç—å –µ—Å–ª–∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—Å—è —Å –¥–µ—Ç–∞–ª—è–º–∏.

## –°–¥–µ–ª–∞–Ω–æ —Å–µ–≥–æ–¥–Ω—è (–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ)

- `7043947` ‚Äî fix: settings/lists options double-parse (JSONB already array) ‚Äî —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ —Ç–µ–ø–µ—Ä—å –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∑–Ω–∞—á–µ–Ω–∏—è
- `011bf8b` ‚Äî feat: single source for room types ‚Äî migration 015 –∑–∞–ø–æ–ª–Ω—è–µ—Ç object_type –∏–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ë–î
- `5833659` ‚Äî feat: –î–° inherits contract_type readonly; —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ —Å–ø–∏—Å–∫–æ–≤

## Sidebar redesign (–∫–æ–º–º–∏—Ç 42d9306 ‚Üí main)

–ù–æ–≤–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–æ–∫–æ–≤–æ–≥–æ –º–µ–Ω—é:
- **–î–æ–∫—É–º–µ–Ω—Ç—ã**: –î–æ–≥–æ–≤–æ—Ä, –î–æ–ø. —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ, –ê–∫—Ç, –ü—Ä–∏–∫–∞–∑ (–ø–ª–æ—Å–∫–∏–π —Å–ø–∏—Å–æ–∫)
- **–†–µ–µ—Å—Ç—Ä—ã**: –∞–∫–∫–æ—Ä–¥–µ–æ–Ω-–≥—Ä—É–ø–ø—ã:
  - üè¢ –ö–æ—Ä–ø—É—Å–∞ ‚Üí –¥–æ—á–µ—Ä–Ω–∏–µ –ü–æ–º–µ—â–µ–Ω–∏—è; "–≤—Å–µ –ø–æ–º–µ—â–µ–Ω–∏—è" –ø–µ—Ä–≤—ã–º –ø—É–Ω–∫—Ç–æ–º (orphan-safe)
  - üèõ –ö–æ–º–ø–∞–Ω–∏–∏ ‚Üí –ù–∞—à–∏ —é—Ä–ª–∏—Ü–∞ / –°—Ç–æ—Ä–æ–Ω–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
  - üåç –ó–µ–º–µ–ª—å–Ω—ã–µ —É—á–∞—Å—Ç–∫–∏ ‚Üí —á–∞—Å—Ç–∏
  - ‚öôÔ∏è –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ (–ø–ª–æ—Å–∫–æ–µ)
- –£–±—Ä–∞–Ω—ã –∏–∑ –º–µ–Ω—é: workshop, crane_track, document
- Lazy-loading –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–∞—Å–∫—Ä—ã—Ç–∏–∏
- `_navParentType`: `{ room: 'building', land_plot_part: 'land_plot' }`
- `navSubClick(el)`: —á–∏—Ç–∞–µ—Ç data-etype, data-parent, data-isown, data-title

## Room form (–∫–æ–º–º–∏—Ç—ã 64fc7d5, 4845a55 ‚Üí main)

- Migration 016: `room_number` (id=7) –∏ `room_type` (id=2717) ‚Üí `sort_order=999` (—Å–∫—Ä—ã—Ç—ã, –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è—é—Ç—Å—è)
- –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è: —Ñ–∏–ª—å—Ç—Ä `f.sort_order >= 999` ‚Üí –ø—Ä–æ–ø—É—Å–∫–∞–µ–º
- `renderRoomBuildingParent(selectedId)`: dropdown —Ç–æ–ª—å–∫–æ –∫–æ—Ä–ø—É—Å–∞ + "–î–æ–±–∞–≤–∏—Ç—å –∫–æ—Ä–ø—É—Å" inline
- `openCreateModal(typeName, preParentId)`: –≤—Ç–æ—Ä–æ–π –∞—Ä–≥—É–º–µ–Ω—Ç –ø—Ä–µ–¥–≤—ã–±–∏—Ä–∞–µ—Ç –∑–¥–∞–Ω–∏–µ (–µ—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç–æ –∏–∑ —Ñ–∏–ª—å—Ç—Ä–∞ –ø–æ –∑–¥–∞–Ω–∏—é)
- "–≤—Å–µ –ø–æ–º–µ—â–µ–Ω–∏—è" ‚Äî –ø–µ—Ä–≤—ã–π sub-item –≤ –ö–æ—Ä–ø—É—Å–∞ (italic, data-parent –ø—É—Å—Ç–æ–π) ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ rooms –±–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞

## Orphan rooms (parent_id=null)

–¢—Ä–∏ –ø–æ–º–µ—â–µ–Ω–∏—è –±–µ–∑ –∫–æ—Ä–ø—É—Å–∞: [44] –¶–µ—Ö –§–æ—Ä–º–∞–Ω (–ø—Ä-–≤–æ), [45] –ê–ë–ö –§–æ—Ä–º–∞–Ω 3 —ç—Ç–∞–∂, [58] –°–∫–ª–∞–¥ –í–µ–Ω–≥–µ—Ä—Å–∫–æ–≥–æ —Ü–µ—Ö–∞.
–í–∏–¥–Ω—ã —á–µ—Ä–µ–∑ "–≤—Å–µ –ø–æ–º–µ—â–µ–Ω–∏—è" –≤ —Å–∞–π–¥–±–∞—Ä–µ. –í–∞–ª–µ–Ω—Ç–∏–Ω–∞ –¥–æ–ª–∂–Ω–∞ –∑–∞–π—Ç–∏ –∏ –≤—Ä—É—á–Ω—É—é –Ω–∞–∑–Ω–∞—á–∏—Ç—å –∫–æ—Ä–ø—É—Å —á–µ—Ä–µ–∑ Edit.

## –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –∫–∞–∫ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∏—Å—Ç–∏–Ω—ã (–∫–æ–º–º–∏—Ç 5833659)

- `OBJECT_TYPES`, `EQUIPMENT_CATEGORIES`, `EQUIPMENT_STATUSES` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –º–∞—Å—Å–∏–≤—ã, –Ω–∞—á–∏–Ω–∞—é—Ç –ø—É—Å—Ç—ã–º–∏
- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ `/entity-types/settings/lists` –≤ `startApp()` –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- `_syncFrontendListsFromDB(fieldId, items)` ‚Äî —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –≤—Å–µ —Ç—Ä–∏

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∏–∫—Å—ã

- `7043947` ‚Äî fix: settings/lists options double-parse (JSONB already array)
- `011bf8b` ‚Äî feat: migration 015, –µ–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è —Ç–∏–ø–æ–≤ –ø–æ–º–µ—â–µ–Ω–∏–π
- `5833659` ‚Äî –î–° –Ω–∞—Å–ª–µ–¥—É–µ—Ç contract_type (readonly badge + hidden input)
- `is_own=false` —Ñ–∏–ª—å—Ç—Ä: `IS DISTINCT FROM 'true'` (–ª–æ–≤–∏—Ç null/missing/false)

## –¢–µ–∫—É—â–∏–π –∫–æ–º–º–∏—Ç main (–Ω–∞ –∫–æ–Ω–µ—Ü –¥–Ω—è)

`4845a55` ‚Äî fix: "–≤—Å–µ –ø–æ–º–µ—â–µ–Ω–∏—è" –≤—Å–µ–≥–¥–∞ –ø–µ—Ä–≤—ã–º, orphan rooms –≤–∏–¥–Ω—ã

## TODO (–≤ –æ—á–µ—Ä–µ–¥–∏)

1. **–ù–∞–∑–Ω–∞—á–∏—Ç—å –∫–æ—Ä–ø—É—Å** 3-–º orphan rooms ‚Äî –¥–µ–π—Å—Ç–≤–∏–µ –í–∞–ª–µ–Ω—Ç–∏–Ω—ã —á–µ—Ä–µ–∑ "–≤—Å–µ –ø–æ–º–µ—â–µ–Ω–∏—è" ‚Üí Edit
2. **–î–æ–ø–∏—Å–∞—Ç—å "–ê–Ω–∞–ª–∏–∑ –∞—Ä–µ–Ω–¥—ã"** ‚Äî JS —Ñ—É–Ω–∫—Ü–∏–∏ `_rentAllRows`, `_rentFilters` –∏ 7 —Ñ—É–Ω–∫—Ü–∏–π –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω—ã
3. **–£–±—Ä–∞—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ä–µ–µ—Å—Ç—Ä—ã** ‚Äî —Å–∫—Ä—ã—Ç—å workshop?, land_plot_part? ‚Äî –æ–±—Å—É–¥–∏—Ç—å —Å –í–∞–ª–µ–Ω—Ç–∏–Ω–æ–π
4. **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞** ‚Äî –∂–¥—ë–º –∫–∞—Ä—Ç–∏–Ω–∫–∏ –æ—Ç –í–∞–ª–µ–Ω—Ç–∏–Ω—ã
5. **Metabase** ‚Äî –∫–æ–≥–¥–∞ –±–∞–∑–∞ –Ω–∞–ø–æ–ª–Ω–∏—Ç—Å—è –¥–∞–Ω–Ω—ã–º–∏

## –ó–∞–¥–∞—á–∏ 2-4 –≤—ã–ø–æ–ª–Ω–µ–Ω—ã (–∫–æ–º–º–∏—Ç 14c44a3 ‚Üí main)

### –ó–∞–¥–∞—á–∞ 2: –£–±—Ä–∞–Ω—ã enrichFieldOptions
- –§—É–Ω–∫—Ü–∏—è `enrichFieldOptions` –±–æ–ª—å—à–µ –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∏–≥–¥–µ
- –í—Å–µ `select`/`select_or_custom` –ø–æ–ª—è —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É—é—Ç —á–∏—Å—Ç—ã–µ `f.options` –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞/–ë–î
- –ù–µ—Ç –ø–æ–¥–º–µ—à–∏–≤–∞–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ —Å—Ç–∞—Ä—ã—Ö –∑–∞–ø–∏—Å–µ–π —á–µ—Ä–µ–∑ `getUsedValues()`

### –ó–∞–¥–∞—á–∞ 3: –ö–æ—Ä–ø—É—Å –∏ –ê—Ä–µ–Ω–¥–∞—Ç–æ—Ä –≤ –¥–æ–≥–æ–≤–æ—Ä–∞—Ö –ü–æ–¥—Ä—è–¥–∞/–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `renderRegistrySelectField(fieldId, entities, val, placeholder)`
- –í `renderDynamicFields`: `building` ‚Üí dropdown –∏–∑ `_buildings` (—Ä–µ–µ—Å—Ç—Ä –∫–æ—Ä–ø—É—Å–æ–≤), `tenant` ‚Üí dropdown –∏–∑ `_allCompanies` (—Ä–µ–µ—Å—Ç—Ä –∫–æ–º–ø–∞–Ω–∏–π)
- "–î—Ä—É–≥–æ–µ..." –æ–ø—Ü–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å–æ —Å—Ç–∞—Ä—ã–º–∏ —Å—Ç—Ä–æ–∫–æ–≤—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç NAME (—Å—Ç—Ä–æ–∫—É) –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å –ø–æ–ª—è–º–∏ —Ç–∏–ø–∞ text –≤ contracts

### –ó–∞–¥–∞—á–∞ 4: –£–±—Ä–∞–Ω inline-—Ä–µ–¥–∞–∫—Ç–æ—Ä —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è
- –£–¥–∞–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `toggleParentEdit()` –∏ `saveParent()`
- –£–±—Ä–∞–Ω—ã –∫–Ω–æ–ø–∫–∞ "‚úèÔ∏è –ò–∑–º–µ–Ω–∏—Ç—å" –∏ –±–ª–æ–∫ `parentEditBlock` –∏–∑ –∫–∞—Ä—Ç–æ—á–∫–∏ —Å—É—â–Ω–æ—Å—Ç–µ–π
- –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ø–µ—Ä—å —Ç–æ–ª—å–∫–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (breadcrumb); –º–µ–Ω—è—Ç—å ‚Äî —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É "–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"
